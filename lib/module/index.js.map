{"version":3,"names":["NativeModules","NativeEventEmitter","VoiceStream","EventEmitter","eventKey","VoiceStreamer","init","options","start","stop","listen","event","callback","Error","removeAllListeners","addListener"],"sources":["index.ts"],"sourcesContent":["// @ts-ignore\nimport { NativeModules, NativeEventEmitter, EmitterSubscription } from 'react-native';\nimport { VoiceStreamerInterface, VoiceStreamNativeModule, VoiceStreamOptions } from './types';\n\nconst { VoiceStream } = NativeModules as {\n  VoiceStream: VoiceStreamNativeModule;\n};\n\nconst EventEmitter = new NativeEventEmitter(VoiceStream);\nconst eventKey: 'data' = 'data';\n\nconst VoiceStreamer: VoiceStreamerInterface = {\n  init: (options: VoiceStreamOptions): Promise<void> => {\n    return VoiceStream.init(options);\n  },\n\n  start: (): Promise<void> => {\n    return VoiceStream.start();\n  },\n\n  stop: (): Promise<void> => {\n    return VoiceStream.stop();\n  },\n  \n  listen: (event: 'data', callback: (data: string) => void): EmitterSubscription => {\n    if (event !== eventKey) {\n      throw new Error('Invalid event');\n    }\n    EventEmitter.removeAllListeners(eventKey);\n    return EventEmitter.addListener(eventKey, callback);\n  }\n};\n\nexport default VoiceStreamer;"],"mappings":"AAAA;AACA,SAASA,aAAa,EAAEC,kBAAkB,QAA6B,cAAc;AAGrF,MAAM;EAAEC;AAAY,CAAC,GAAGF,aAEvB;AAED,MAAMG,YAAY,GAAG,IAAIF,kBAAkB,CAACC,WAAW,CAAC;AACxD,MAAME,QAAgB,GAAG,MAAM;AAE/B,MAAMC,aAAqC,GAAG;EAC5CC,IAAI,EAAGC,OAA2B,IAAoB;IACpD,OAAOL,WAAW,CAACI,IAAI,CAACC,OAAO,CAAC;EAClC,CAAC;EAEDC,KAAK,EAAEA,CAAA,KAAqB;IAC1B,OAAON,WAAW,CAACM,KAAK,CAAC,CAAC;EAC5B,CAAC;EAEDC,IAAI,EAAEA,CAAA,KAAqB;IACzB,OAAOP,WAAW,CAACO,IAAI,CAAC,CAAC;EAC3B,CAAC;EAEDC,MAAM,EAAEA,CAACC,KAAa,EAAEC,QAAgC,KAA0B;IAChF,IAAID,KAAK,KAAKP,QAAQ,EAAE;MACtB,MAAM,IAAIS,KAAK,CAAC,eAAe,CAAC;IAClC;IACAV,YAAY,CAACW,kBAAkB,CAACV,QAAQ,CAAC;IACzC,OAAOD,YAAY,CAACY,WAAW,CAACX,QAAQ,EAAEQ,QAAQ,CAAC;EACrD;AACF,CAAC;AAED,eAAeP,aAAa","ignoreList":[]}